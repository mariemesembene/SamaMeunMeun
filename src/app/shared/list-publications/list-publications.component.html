<div>
  <app-header></app-header>
</div>


<!-- Hero Start -->
<!-- <section class="bg-half bg-light d-table w-100">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-12 text-center">
                    <div class="page-next-level">
                        <h4 class="title"> Blog </h4>
                        <div class="page-next">
                            <nav aria-label="breadcrumb" class="d-inline-block">
                                <ul class="breadcrumb bg-white rounded shadow mb-0">
                                    <li class="breadcrumb-item"><a href="index.html">Landrick</a></li>
                                    <li class="breadcrumb-item"><a href="#">Page</a></li>
                                    <li class="breadcrumb-item"><a href="#">Blog</a></li>
                                    <li class="breadcrumb-item active" aria-current="page">Blog Grid</li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>  
            </div>
        </div>
    </section> -->
<!--end section-->
<!-- Hero End -->

<!-- Shape Start -->
<div class="position-relative">
  <div class="shape overflow-hidden text-white">
    <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M0 48H1437.5H2880V0H2160C1442.5 52 720 0 720 0H0V48Z"
        fill="currentColor"
      ></path>
    </svg>
  </div>
</div>
<!--Shape End-->

<!-- Blog STart -->
<section class="section">
    <app-search-bar></app-search-bar>
  <div class="container mt-3">
    <div
      class="row d-flex flex-column align-items-center card-publication"
      *ngFor="let video of videos"
    >
      <!-- *ngFor="let video of videos" -->
      <div class="col-lg-8 col-md-8 mb-4 pb-2">
        <div class="card rounded border-0 shadow overflow-hidden">
          <div class="card-header">
            <div class="d-flex align-items-center mb-7">
              <!--begin::Pic-->
              <div class="flex-shrink-0">
                <div class="rounded img-user-post mb-2" style="z-index: 1">
                  <img
                    src="../../../assets/images/client/avatar-user-2.jpg"
                    class="
                      avatar avatar-large
                      rounded-circle
                      shadow
                      d-block
                      mx-auto
                      w-100
                      h-100
                    "
                    alt=""
                  />
                </div>
                <div
                  class="
                    symbol symbol-lg-75 symbol-circle symbol-primary
                    d-none
                  "
                >
                  <!-- <span class="font-size-h3 font-weight-boldest">JM</span> -->
                </div>
              </div>
              <!--end::Pic-->
              <!--begin::Title-->
              <div class="d-flex flex-column">
                <a
                  href="#"
                  class="
                    text-dark
                    font-weight-bold
                    text-hover-primary
                    font-size-h4
                    mb-0
                  "
                  >Rita Fall</a
                >
                <span class="text-muted font-weight-bold"
                  >DÃ©veloppeuse Web/mobile</span
                >
              </div>
              <!--end::Title-->
            </div>
          </div>
          <!-- <div>{{video.id.videoId}}</div> -->
          <div class="position-relative">
            <!-- <div>{{video}}</div> -->
            <!-- <img
              src="../../../assets/images/blog/01.jpg"
              class="card-img-top"
              alt="..."
            /> -->
            <!-- <iframe width="420" height="315"
src="https://www.youtube.com/embed/tgbNymZ7vqY">
</iframe> -->

            <youtube-player
              videoId="{{ video.id.videoId }}"
              suggestedQuality="highres"
              width="100%"
              listType="playlist"
              rel="0"
            >
            </youtube-player>
            <div class="overlay rounded-top bg-dark"></div>
          </div>
          <div class="card-body content">
            <!-- <h5> -->
            <div
              class="
                card-title
                title
                text-dark
                post-meta
                d-flex
                justify-content-between
              "
            >
              <!-- Description -->
              <!-- {{video.snippet.description}} -->
              <ul class="list-unstyled mb-0" role="button">
                <li
                  class="list-inline-item me-2 mb-0"
                  (click)="likeVideo(video)"
                >
                  <i class="fa fa-heart" [ngClass]="{'icon-outline' : video.isUserLiked=='none'}"></i> J'aime
                  <!-- <i class="fa fa-heart icon-outline"></i> -->
                </li>
                <li
                  class="list-inline-item"
                  role="button"
                  (click)="showComments(video)"
                >
                  <i class="uil uil-comment me-1"></i>Commenter
                </li>
              </ul>

              <ul class="list-unstyled mb-0">
                <li
                  class="list-inline-item"
                  role="button"
                  (click)="showComments(video)"
                >
                  <span (click)="comment()" class="text-muted comments">
                    {{ video.statistics ? video.statistics.commentCount : 0 }}
                    <span>commentaires</span>
                  </span>
                </li>
                <li class="list-inline-item" role="button">
                  <span class="text-muted comments">
                    {{ video.statistics ? video.statistics.likeCount : 0 }}
                    <span>j'aime</span>
                  </span>
                </li>
                <li class="list-inline-item" role="button">
                  <span class="text-muted comments">
                    {{ video.statistics ? video.statistics.viewCount : 0 }}
                    <span>vues</span>
                  </span>
                </li>
              </ul>
            </div>
            <!-- </h5> -->
            <div class="post-meta d-flex justify-content-between mt-3">
              <div class="text-muted font-weight-bold">
                <!-- ndeyesalydione@gmail.com -->
                <!-- <ul class="list-unstyled mb-0">
                  <li class="list-inline-item me-2 mb-0">
                    <i class="fa fa-heart regular"></i>
                  </li>
                  <li class="list-inline-item" role="button">
                    <i class="uil uil-comment me-1"></i>
                  </li>
                </ul> -->
              </div>

              <!-- <a href="page-blog-detail.html" class="text-muted readmore">Read More <i class="uil uil-angle-right-b align-middle"></i></a> -->
            </div>
            <div *ngIf="video.isShowComments">
              <!-- commentaire principale -->
              <div  class="bg-light py-2" >
                <div class="d-flex flex-row align-items-start px-2"><img class="img-fluid avatar avatar-md-sm rounded-circle shadow" src="../../../assets/images/client/avatar-user.jpg"><textarea name="comment-field"  class="form-control ml-2 pl-2 shadow-none textarea"></textarea></div>
                <div class="mt-2 float float-end">
                  <!-- <button class="btn btn-primary btn-sm shadow-none" type="button"  *ngIf="
                  commentaire['control'].value != '' &&
                  commentaire['isShownReplyInput']
                "
                >Publier</button> -->
                <!-- <button class="btn btn-outline-primary btn-sm ml-1 shadow-none" type="button">Cancel</button> -->
              </div>
            </div>
              <ul class="media-list list-unstyled mb-0" *ngFor="
              let commentaire of  video.commentaires.items | slice: start:end
              ">
                  <li class="mt-4">
                    <div id="myGroup">
                      <div class="d-flex justify-content-between">
                          <div class="d-flex align-items-center">
                              <a class="pe-3" href="#">
                                  <img src="{{
                                      commentaire.snippet.topLevelComment.snippet
                                        .authorProfileImageUrl
                                    }}" class="img-fluid avatar avatar-md-sm rounded-circle shadow" alt="img">
                              </a>
                              <div class="flex-1 commentor-detail">
                                  <h6 class="mb-0"><a href="javascript:void(0)" class="text-dark media-heading">
                                      {{
                                          commentaire.snippet.topLevelComment.snippet
                                            .authorDisplayName
                                        }}
                                  </a></h6>
                                  <small class="text-muted">
                                      {{
                                          commentaire.snippet.topLevelComment.snippet
                                            .publishedAt
                                        }}
                                  </small>
                              </div>
                          </div>
                      </div>
                      <div class="mt-3">
                          <p class="text-muted fst-italic p-3 bg-light rounded">" 
                              {{
                                  commentaire.snippet.topLevelComment.snippet
                                    .textOriginal
                                }}
                              "</p>
                      </div>
                      <div class="d-flex flex-row fs-12">
                          <div class="like p-2 cursor">
                            <i class="fa fa-heart icon-outline"></i
                            >
                            <span class="ml-1">J'aime</span>
                          </div>
                          <div
                            (click)="showReplyInput(commentaire, null)"
                            class="like p-2 cursor action-collapse"
                            data-toggle="collapse"
                            aria-expanded="true"
                            aria-controls="collapse-1"
                            href="#collapse-1"
                          >
                            <i class="fa fa-commenting-o"></i
                            >
                            <span class="ml-1">Commenter</span>
                          </div>
                          <!-- <div
                            class="like p-2 cursor action-collapse"
                            data-toggle="collapse"
                            aria-expanded="true"
                            aria-controls="collapse-2"
                            href="#collapse-2"
                          >
                            <i class="fa fa-share"></i
                            ><span class="ml-1">Share</span>
                          </div> -->
                        </div>
                      </div>
              
                        <ul class="list-unstyled ps-4 ps-md-5 sub-comment" *ngIf="commentaire.replies && video.isShowComments">
                          <li
                              *ngIf="(loadSpinner | async) == commentaire.id"
                              class="d-flex justify-content-center"
                            >
                              <div
                                class="spinner-border text-primary"
                                role="status"
                              >
                                <span class="sr-only">Loading...</span>
                              </div>
                          </li>
                          <li class="mt-4" id="myGroup"  *ngFor="let reply of commentaire.replies.comments">
                              <div class="d-flex justify-content-between">
                                  <div class="d-flex align-items-center">
                                      <a class="pe-3" href="#">
                                          <img src="{{reply.snippet.authorProfileImageUrl}}" class="img-fluid avatar avatar-md-sm rounded-circle shadow" alt="img">
                                      </a>
                                      <div class="flex-1 commentor-detail">
                                          <h6 class="mb-0"><a href="javascript:void(0)" class="text-dark media-heading">{{ reply.snippet.authorDisplayName }}</a></h6>
                                          <small class="text-muted">{{reply.snippet.publishedAt}}</small>
                                      </div>
                                  </div>
                                  <!-- <a href="#" class="text-muted"><i class="mdi mdi-reply"></i> Reply</a> -->
                              </div>
                              <!-- <div class="mt-3">
                                  <p class="text-muted fst-italic p-3 bg-light rounded">" {{ reply.snippet.textOriginal }} "</p>
                              </div> -->
                              <div class="d-flex flex-row fs-12">
                                  <div class="like p-2 cursor"><i class="fa fa-heart icon-outline"></i>
                                    <span class="ml-1">J'aime</span>
                                  </div>
                                  <div (click)="
                                  showReplyInput(
                                    commentaire,
                                    reply.snippet.authorDisplayName
                                  )
                                " class="like p-2 cursor action-collapse" data-toggle="collapse" aria-expanded="true" aria-controls="collapse-1" href="#collapse-1"><i class="fa fa-commenting-o"></i>
                                <span class="ml-1">Commenter</span>
                              </div>
                                  <!-- <div class="like p-2 cursor action-collapse" data-toggle="collapse" aria-expanded="true" aria-controls="collapse-2" href="#collapse-2"><i class="fa fa-share"></i><span class="ml-1">Share</span></div> -->
                              </div>
                          </li>
                        
                          
                          <li id="collapse-1" class="bg-light py-2 collapse" data-parent="#myGroup" *ngIf="commentaire['isShownReplyInput']">
                            <div class="d-flex flex-row align-items-start"><img class="img-fluid avatar avatar-md-sm rounded-circle shadow" src="../../../assets/images/client/avatar-user.jpg"><textarea name="comment-field" [formControl]="commentaire['control']" class="form-control ml-1 shadow-none textarea"></textarea></div>
                            <div class="mt-2 float float-end">
                              <button class="btn btn-primary btn-sm shadow-none" type="button"  *ngIf="
                              commentaire['control'].value != '' &&
                              commentaire['isShownReplyInput']
                            "
                            (click)="replyComment(video, commentaire)">Publier</button>
                            <!-- <button class="btn btn-outline-primary btn-sm ml-1 shadow-none" type="button">Cancel</button> -->
                          </div>
                        </li> 
                      </ul>
                  </li>
              
              </ul>
              <div>
                <p class="more-comment-text float float-end" (click)="showMore()" role="button">Plus de commentaires</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!--end col-->

      <!-- PAGINATION START -->
      <!--end col-->
      <!-- PAGINATION END -->
    </div>
    <!--end row-->
  </div>
  <!--end container-->
</section>
<!--end section-->
<!-- Blog End -->

<!-- test youtube api -->

<app-footer></app-footer>
